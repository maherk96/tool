{
  "taskType": "FIX_LOAD",
  "data": {
    "testSpec": {
      "id": "fix-trading-load-test",
      "globalConfig": {
        "configPath": "fix-client-config.json",
        "portsConfigPath": "ports-config.json",
        "environmentName": "ALGO_UAT",
        "clientStreamNames": ["CLIENT_001", "CLIENT_002"],
        "vars": {
          "symbols": ["AAPL", "MSFT", "GOOGL", "AMZN", "TSLA", "META", "NVDA", "JPM", "BAC", "WMT"],
          "currencies": ["USD", "EUR", "GBP", "JPY", "CAD"],
          "sides": ["1", "2"],
          "orderTypes": ["1", "2", "3", "4"],
          "timeInForce": ["0", "1", "3", "4"],
          "priceRange": {"min": 50.00, "max": 500.00},
          "quantityRange": {"min": 100, "max": 10000},
          "accounts": ["ACC001", "ACC002", "ACC003", "ACC004"],
          "venues": ["XNAS", "XNYS", "ARCX", "BATS"]
        },
        "timeouts": {
          "connectionTimeoutMs": 5000,
          "responseTimeoutMs": 3000
        }
      },
      "scenarios": [
        {
          "name": "equity-trading-flow",
          "steps": [
            {
              "messageType": "NewOrderSingle",
              "fields": {
                "11": "{{randomOrderId}}",
                "55": "{{randomFrom:symbols}}",
                "54": "{{randomFrom:sides}}",
                "44": "{{randomPrice:priceRange}}",
                "38": "{{randomQuantity:quantityRange}}",
                "40": "{{randomFrom:orderTypes}}",
                "59": "{{randomFrom:timeInForce}}",
                "1": "{{randomFrom:accounts}}",
                "60": "{{currentTime}}"
              },
              "expected": {
                "messageType": "ExecutionReport",
                "fields": {
                  "39": "0",
                  "150": "0"
                },
                "maxTimeMs": 2000
              }
            },
            {
              "messageType": "OrderCancelRequest",
              "fields": {
                "11": "{{randomCancelId}}",
                "41": "{{orderIdFromPrevious}}",
                "55": "{{symbolFromPrevious}}",
                "54": "{{sideFromPrevious}}",
                "1": "{{accountFromPrevious}}",
                "60": "{{currentTime}}"
              },
              "expected": {
                "messageType": "ExecutionReport",
                "fields": {
                  "39": "4",
                  "150": "4"
                },
                "maxTimeMs": 1500
              }
            }
          ]
        },
        {
          "name": "quote-request-flow",
          "steps": [
            {
              "messageType": "QuoteRequest",
              "fields": {
                "131": "{{randomQuoteReqId}}",
                "146": "1",
                "55": "{{randomFrom:symbols}}",
                "38": "{{randomQuantity:quantityRange}}",
                "15": "{{randomFrom:currencies}}",
                "60": "{{currentTime}}"
              },
              "expected": {
                "messageType": "Quote",
                "fields": {
                  "55": "{{symbolFromRequest}}"
                },
                "maxTimeMs": 1000
              }
            }
          ]
        }
      ]
    },
    "execution": {
      "thinkTime": { "type": "RANDOM", "min": 200, "max": 600 },
      "loadModel": { "type": "CLOSED", "users": 5, "iterations": 20, "warmup": "5s", "rampUp": "10s", "holdFor": "60s" },
      "globalSla": { "errorRatePct": 5.0, "p95LtMs": 1200, "onError": { "action": "STOP" } }
    }
  }
}